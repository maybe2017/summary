
### 先找到进程pid
jps -l

### 通过jstack和grep组合命令过滤死锁关键字，定位代码位置100行附近
jstack pid ｜ grep 'deadlock' -A 100

### 线上死锁
线上死锁表现为接口响应超时，多请求几次，所有实例都出现死锁，任意一台诊断即可。如果不是响应超时，则死锁最终会导致线程池饱和或者jvm的oom异常